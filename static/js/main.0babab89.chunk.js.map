{"version":3,"sources":["styles/index.module.css","components/Controls/Controls.js","components/Balance/Balance.js","components/TransactionHistory/TransactionHistory.js","components/services/services.js","components/Dashboard/Dashboard.js","components/App.js","index.js"],"names":["module","exports","Controls","state","amount","handleInputChange","e","setState","target","value","handleFormInput","preventDefault","handleDepositButton","props","onDeposit","Number","handleWithdrawButton","onWithdraw","this","className","styles","section","onSubmit","type","name","input","onChange","button","onClick","Component","Balance","balance","income","expenses","span","TransactionHistory","transactions","history","headline","map","transaction","id","date","key","JSON","parse","localStorage","getItem","error","setItem","stringify","Swal","fire","Dashboard","handleDeposit","newStateTransaction","uuidv1","Date","toLocaleString","handleWithdraw","accountData","storage","prevProps","prevState","reduce","acc","deposit","withdrawal","totalTransfers","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0babab89.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"styles_button__R3xyA\",\"input\":\"styles_input__ZUWoT\",\"section\":\"styles_section__16ilt\",\"balance\":\"styles_balance__12YoL\",\"history\":\"styles_history__2Q5G3\",\"span\":\"styles_span__2yHEn\",\"headline\":\"styles_headline__i4-fT\"};","/* eslint-disable */\nimport React, { Component } from 'react';\nimport T from 'prop-types';\nimport styles from '../../styles/index.module.css';\n\nexport default class Controls extends Component {\n  static propTypes = {\n    onDeposit: T.func.isRequired,\n    onWithdraw: T.func.isRequired,\n  };\n\n  state = {\n    amount: '',\n  };\n\n  handleInputChange = e => {\n    this.setState({\n      amount: e.target.value,\n    });\n  };\n\n  handleFormInput = e => {\n    e.preventDefault();\n  };\n\n  handleDepositButton = () => {\n    this.props.onDeposit(Number(this.state.amount));\n    this.setState({ amount: '' });\n  };\n\n  handleWithdrawButton = () => {\n    this.props.onWithdraw(Number(this.state.amount));\n    this.setState({ amount: '' });\n  };\n\n  render() {\n    const { amount } = this.state;\n    return (\n      <section className={styles.section}>\n        <form onSubmit={this.handleFormInput}>\n          <input\n            type=\"number\"\n            name=\"amount\"\n            className={styles.input}\n            value={amount}\n            onChange={this.handleInputChange}\n          ></input>\n          <button\n            type=\"button\"\n            className={styles.button}\n            onClick={this.handleDepositButton}\n          >\n            Deposit\n          </button>\n          <button\n            type=\"button\"\n            className={styles.button}\n            onClick={this.handleWithdrawButton}\n          >\n            Withdraw\n          </button>\n        </form>\n      </section>\n    );\n  }\n}\n","/* eslint react/prop-types: 0 */\nimport React from 'react';\nimport T from 'prop-types';\nimport styles from '../../styles/index.module.css';\n\nconst Balance = ({ balance, income, expenses }) => {\n  return (\n    <section className={styles.balance}>\n      <span className={styles.span}>&#x2191;{income}$</span>\n      <span className={styles.span}>&#x2193;{expenses}$</span>\n      <span className={styles.span}>Balance: {balance}$</span>\n    </section>\n  );\n};\n\nBalance.propTypes = {\n  balance: T.number.isRequired,\n  income: T.number.isRequired,\n  expenses: T.number.isRequired,\n};\nexport default Balance;\n","/* eslint-disable */\nimport React from 'react';\nimport T from 'prop-types';\nimport styles from '../../styles/index.module.css';\n\nconst TransactionHistory = ({ transactions }) => {\n  const renderTransactions = () => {\n    return transactions.map(transaction => {\n      const { id, date, type, amount } = transaction;\n      return (\n        <tr key={id}>\n          <td>{type}</td>\n          <td>{amount}$</td>\n          <td>{date}</td>\n        </tr>\n      );\n    });\n  };\n\n  return (\n    <div>\n      <table className={styles.history}>\n        <thead>\n          <tr>\n            <th className={styles.headline}>Transaction</th>\n            <th className={styles.headline}>Amount</th>\n            <th className={styles.headline}>Date</th>\n          </tr>\n        </thead>\n        <tbody>{renderTransactions()}</tbody>\n      </table>\n    </div>\n  );\n};\nTransactionHistory.propTypes = {\n  transactions: T.arrayOf(\n    T.shape({\n      id: T.string.isRequired,\n      type: T.string.isRequired,\n      amount: T.number.isRequired,\n      date: T.string.isRequired,\n    }),\n  ).isRequired,\n};\nexport default TransactionHistory;\n","import Swal from 'sweetalert2';\n\nconst save = (key, value) => {\n  try {\n    localStorage.setItem(key, JSON.stringify(value));\n  } catch (error) {\n    Swal.fire('ERROR');\n  }\n};\n\nconst get = key => {\n  try {\n    return JSON.parse(localStorage.getItem(key));\n  } catch (error) {\n    return null;\n  }\n};\n\nexport default {\n  get,\n  save,\n};\n","/* eslint-disable */\nimport React, { Component } from 'react';\nimport T from 'prop-types';\nimport uuidv1 from 'uuid/v1';\nimport Swal from 'sweetalert2';\nimport Controls from '../Controls/Controls';\nimport Balance from '../Balance/Balance';\nimport TransactionHistory from '../TransactionHistory/TransactionHistory';\nimport storage from '../services/services';\n\nexport default class Dashboard extends Component {\n  state = {\n    transactions: [],\n    balance: 0,\n  };\n\n  componentDidMount() {\n    const accountData = storage.get('accountData');\n\n    if (accountData) {\n      this.setState({ ...accountData });\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { transactions } = this.state;\n\n    if (prevState.transactions !== transactions) {\n      storage.save('accountData', this.state);\n    }\n  }\n\n  handleDeposit = amount => {\n    if (amount <= 0) {\n      Swal.fire('Введите сумму для проведения операции!');\n      return;\n    }\n    this.setState(({ transactions, balance }) => {\n      const newStateTransaction = {\n        id: uuidv1(),\n        type: 'deposit',\n        amount,\n        date: new Date().toLocaleString(),\n      };\n      return {\n        transactions: [...transactions, newStateTransaction],\n        balance: balance + amount,\n      };\n    });\n  };\n  handleWithdraw = amount => {\n    if (amount <= 0) {\n      Swal.fire('Введите сумму для проведения операции!');\n      return;\n    }\n    if (this.state.balance - amount < 0) {\n      Swal.fire('На счету недостаточно средств для проведения операции!');\n      return;\n    }\n    this.setState(({ transactions, balance }) => {\n      const newStateTransaction = {\n        id: uuidv1(),\n        type: 'withdrawal',\n        amount,\n        date: new Date().toLocaleString(),\n      };\n      return {\n        transactions: [...transactions, newStateTransaction],\n        balance: balance - amount,\n      };\n    });\n  };\n\n  totalTransfers() {\n    const { transactions } = this.state;\n    return transactions.reduce(\n      (acc, transaction) => {\n        return {\n          ...acc,\n          [transaction.type]: acc[transaction.type] + transaction.amount,\n        };\n      },\n      {\n        deposit: 0,\n        withdrawal: 0,\n      },\n    );\n  }\n\n  render() {\n    const { transactions, balance } = this.state;\n    const { deposit, withdrawal } = this.totalTransfers();\n    return (\n      <div className=\"dashboard\">\n        <Controls\n          onDeposit={this.handleDeposit}\n          onWithdraw={this.handleWithdraw}\n        />\n        <Balance\n          balance={balance}\n          income={Number(deposit)}\n          expenses={Number(withdrawal)}\n        />\n        <TransactionHistory transactions={transactions} />\n      </div>\n    );\n  }\n}\n","import React from 'react';\r\nimport Dashboard from './Dashboard/Dashboard';\r\n\r\nconst App = () => (\r\n  <div>\r\n    <Dashboard />\r\n  </div>\r\n);\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}